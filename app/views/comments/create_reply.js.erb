$("form#new_reply").bind('ajax:success', function(evt, data, status, xhr) {
		$('form#new_reply').remove();
		$('ul#hmenu').html("<%= escape_javascript(render :partial => 'layouts/menu_items') %>");
		
		var last_reply = $('div.reply_for_<%= @comment.id %>:last');
		
		if (last_reply[0]){
			window.location = '#' + last_reply.attr("id");
			last_reply.after("<%= escape_javascript(display_comments(@reply)) %>");
		} else {
			window.location = '#' + $('div#comment_<%= @comment.id %>').attr("id");
			$('div#comment_<%= @comment.id %>').after("<%= escape_javascript(display_comments(@reply)) %>");
		}
		
		last_reply = $('div.reply_for_<%= @comment.id %>:last');
		last_reply.hide();
		
		last_reply.slideDown("slow");
		
		$('form#new_comment[data-validate], form#new_reply[data-validate]').validate();
		
});