$("form#comment_new").bind('ajax:success', function(evt, data, status, xhr) {
	var last_comment = $('div#display_comments > div:first');
	
	window.location = "#comments_title";
		
	if (last_comment[0]){
		last_comment.before("<%= escape_javascript(display_comments(@comment)) %>");
		// window.location = '#' + $('div#comment_<%= @comment.keys.first %>').attr("id");
		
	} else {
		$('div#display_comments').html("<%= escape_javascript(display_comments(@comment)) %>");
		// window.location = '#' + $('div#comment_<%= @comment.keys.first %>').attr("id");
	}
		
		$('div#comment_<%= @comment.keys.first %>').hide();
		
		$('div#comment_<%= @comment.keys.first %>').slideDown("slow");
		
		$('div#wrap_form_new_comment').html("<%= escape_javascript(render :partial => 'comments/form') %>");
		
		$('form#comment_new[data-validate], form#reply_new[data-validate]').validate();
		
});